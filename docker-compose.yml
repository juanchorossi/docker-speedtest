version: '3.8'

services:
  speedtest:
    build: .
    container_name: speedtest
    restart: unless-stopped
    environment:
      - SUPABASE_URL=${SUPABASE_URL}
      - SUPABASE_ANON_KEY=${SUPABASE_ANON_KEY}
      - TELEGRAM_TOKEN=${TELEGRAM_TOKEN}
      - TELEGRAM_CHAT_ID=${TELEGRAM_CHAT_ID}
      - ERROR_REPORTING=${ERROR_REPORTING:-TRUE}
      - SPEED_THRESHOLD_MBPS=${SPEED_THRESHOLD_MBPS:-50}
    volumes:
      - ./logs:/var/log
